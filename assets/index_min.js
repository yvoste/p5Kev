const images=document.querySelectorAll(".grid-item"),categories=new Set;for(let e of images)categories.add(e.getAttribute("imgCategory"));for(let e of categories){const t=document.querySelector(".filters");let i=document.createElement("li");i.setAttribute("class","filter"),i.innerText=e,t.appendChild(i)}const filters=document.querySelectorAll(".filter");for(let e of filters)e.addEventListener("click",(()=>{highlitghedFilter(e),filterGrid(e.innerText)}));function highlitghedFilter(e){for(let e of filters)e.classList.remove("active-filter");e.classList.add("active-filter")}function filterGrid(e){const t=document.querySelector(".grid");t.innerHTML="";const i=Array.from(images);if("Tous"===e)for(let e of i)t.appendChild(e);const r=i.filter((t=>t.getAttribute("imgCategory")===e));for(let e of r)t.appendChild(e)}images.forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.getAttribute("imgCategory");let i,r=Array.from(images).filter((e=>e.getAttribute("imgCategory")===t));for(let t in r)r[t]===e.target&&(i=t);const l=document.getElementById("lightbox");l.classList.add("active");const n=document.createElement("div");n.classList.add("imgContainer"),n.style.backgroundColor="white",n.style.width="500px",n.style.padding="15px";const c=document.createElement("img");c.src=r[i].getAttribute("src"),c.style.width="100%",c.style.width="100%",c.src=r[i].src;const s=document.createElement("div");s.classList.add("prevBtn"),s.innerText="<",s.addEventListener("click",(()=>{i<=0?i=r.length-1:i--,c.src=r[i].src}));const d=document.createElement("div");for(d.classList.add("nextBtn"),d.innerText=">",d.addEventListener("click",(()=>{i>=r.length-1?i=0:i++,c.src=r[i].src}));l.firstChild;)l.removeChild(l.firstChild);n.appendChild(c),n.appendChild(s),n.appendChild(d),l.appendChild(n),l.addEventListener("click",(e=>{e.target===e.currentTarget&&l.classList.remove("active")}))}))}));